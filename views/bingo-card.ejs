<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Printable Bingo Card</title>
    <link rel="stylesheet" href="/css/bingo-card.css">
</head>
<body>
    <div class="card">
        <h2>Bingo Card</h2>
        <table>
            <thead>
                <tr>
                    <th>B</th><th>I</th><th>N</th><th>G</th><th>O</th>
                </tr>
            </thead>
            <tbody>
                <% for(let i=0; i<5; i++) { %>
                <tr>
                    <% ["B", "I", "N", "G", "O"].forEach(letter => { %>
                        <td><%= card.columns[letter][i].num %><br><small><%= card.columns[letter][i].word %></small></td>
                    <% }); %>
                </tr>
                <% } %>
            </tbody>
        </table>
        <p class="ref-id">Card ID: <%= card.id %></p>
        <button onclick="window.print()">Print Card</button>
    </div>
    <script>
      function verifyCard() {
          const cardId = "<%= card.id %>";
          const numbers = [...document.querySelectorAll("td")].map(td => parseInt(td.innerText));
  
          fetch("/verify-card", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ cardId, numbers })
          })
          .then(res => res.json())
          .then(data => alert(data.valid ? "Valid Bingo!" : "Invalid Bingo!"));
      }
  </script>
  <button onclick="verifyCard()">Verify Bingo</button>
  
</body>
</html>
